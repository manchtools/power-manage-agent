# Power Manage Agent - sudo configuration
# Generated by: power-manage-agent setup
# DO NOT EDIT - this file is managed by the agent binary

# Package management
{{.User}} ALL=(root) NOPASSWD: /usr/bin/apt *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/apt-get *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/apt-mark *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/dpkg *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/dpkg-query *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/dnf *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/rpm *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/pacman *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/pacman-key *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/zypper *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/flatpak *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/unattended-upgrade *

# Systemd service management
{{.User}} ALL=(root) NOPASSWD: /usr/bin/systemctl start *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/systemctl stop *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/systemctl restart *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/systemctl reload *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/systemctl enable *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/systemctl disable *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/systemctl status *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/systemctl daemon-reload

# File operations
# Include both /bin and /usr/bin paths for compatibility across distros
{{.User}} ALL=(root) NOPASSWD: /usr/bin/tee *
{{.User}} ALL=(root) NOPASSWD: /bin/tee *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/chown *
{{.User}} ALL=(root) NOPASSWD: /bin/chown *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/chmod *
{{.User}} ALL=(root) NOPASSWD: /bin/chmod *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/mkdir *
{{.User}} ALL=(root) NOPASSWD: /bin/mkdir *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/rm *
{{.User}} ALL=(root) NOPASSWD: /bin/rm *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/cp *
{{.User}} ALL=(root) NOPASSWD: /bin/cp *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/mv *
{{.User}} ALL=(root) NOPASSWD: /bin/mv *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/cat *
{{.User}} ALL=(root) NOPASSWD: /bin/cat *

# System information
{{.User}} ALL=(root) NOPASSWD: /usr/bin/ss *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/lsof *

# Process and session management
{{.User}} ALL=(root) NOPASSWD: /usr/bin/pkill *
{{.User}} ALL=(root) NOPASSWD: /bin/pkill *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/loginctl *
{{.User}} ALL=(root) NOPASSWD: /bin/loginctl *

# Filesystem repair (remount read-only filesystems)
{{.User}} ALL=(root) NOPASSWD: /usr/bin/mount -o remount\,rw /
{{.User}} ALL=(root) NOPASSWD: /bin/mount -o remount\,rw /

# Sudoers validation (used by sudo action to validate files before install)
{{.User}} ALL=(root) NOPASSWD: /usr/sbin/visudo *
{{.User}} ALL=(root) NOPASSWD: /sbin/visudo *

# User management
{{.User}} ALL=(root) NOPASSWD: /usr/sbin/useradd *
{{.User}} ALL=(root) NOPASSWD: /sbin/useradd *
{{.User}} ALL=(root) NOPASSWD: /usr/sbin/usermod *
{{.User}} ALL=(root) NOPASSWD: /sbin/usermod *
{{.User}} ALL=(root) NOPASSWD: /usr/sbin/userdel *
{{.User}} ALL=(root) NOPASSWD: /sbin/userdel *
{{.User}} ALL=(root) NOPASSWD: /usr/sbin/groupadd *
{{.User}} ALL=(root) NOPASSWD: /sbin/groupadd *
{{.User}} ALL=(root) NOPASSWD: /usr/sbin/groupdel *
{{.User}} ALL=(root) NOPASSWD: /sbin/groupdel *
{{.User}} ALL=(root) NOPASSWD: /usr/sbin/gpasswd *
{{.User}} ALL=(root) NOPASSWD: /sbin/gpasswd *
{{.User}} ALL=(root) NOPASSWD: /usr/sbin/chpasswd
{{.User}} ALL=(root) NOPASSWD: /sbin/chpasswd
{{.User}} ALL=(root) NOPASSWD: /usr/bin/chage *
{{.User}} ALL=(root) NOPASSWD: /bin/chage *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/getent *
{{.User}} ALL=(root) NOPASSWD: /bin/getent *

# Shell execution (for shell actions with run_as_root)
{{.User}} ALL=(root) NOPASSWD: /bin/bash *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/bash *
{{.User}} ALL=(root) NOPASSWD: /bin/sh *
{{.User}} ALL=(root) NOPASSWD: /usr/bin/sh *

# System power management
{{.User}} ALL=(root) NOPASSWD: /usr/sbin/shutdown *
{{.User}} ALL=(root) NOPASSWD: /sbin/shutdown *
